<svg ng-class="state">
  <defs>
    <pattern id="image" x="0" y="0" patternUnits="userSpaceOnUse" height="100%" width="100%" repeat="no-repeat">
      <image x="-12.5%" y="-12.5%" width="125%" height="125%" xlink:href="/img/pharrell-williams.jpg"></image>
      <rect x="0" y="0"
        width="100%" height="100%"
        fill="{{blockColor}}">
          <!-- Fade out -->
          <animate class="ripple-bg"
                   attributeType="XML"
                   begin="indefinite"
                   attributeName="opacity"
                   from="1"
                   to="0"
                   dur="600ms"
                   fill="freeze" />
          <!-- Reset opacity -->
          <animate class="ripple-bg-undo"
                   attributeType="XML"
                   begin="indefinite"
                   attributeName="opacity"
                   from="1"
                   to="1"
                   dur="0ms"
                   fill="freeze" />
      </rect>
    </pattern>
  </defs>

  <circle cx="50%" cy="50%" r="0" fill="url(#image)" style="tranform: translateZ(0);">
    <!-- Expand out -->
    <animate class="ripple-open"
             attributeType="XML"
             begin="indefinite"
             attributeName="r"
             from="0"
             to="200%"
             dur="600ms"
             fill="freeze" />
    <!-- Collapse in -->
    <animate class="ripple-close"
             attributeType="XML"
             begin="indefinite"
             attributeName="r"
             from="200%"
             to="0"
             dur="800ms"
             fill="freeze" />
  </circle>
</svg>

<div class="album"
  ng-click="animating || toggleCover($event)"
  ng-class="state">
    <!-- Album Cover -->
    <div class="cover" ng-class="{ end: end }">
      <img ng-src="{{cover}}"/>
    </div>
    <!-- UI Card -->
    <div class="ui" ng-class="state">
      <h1>G I R L</h1>
      <p>Pharell Williams</p>
    </div>
</div>